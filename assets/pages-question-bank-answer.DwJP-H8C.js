import{d as e,r as a,j as l,z as s,c as t,w as n,i as u,A as o,o as c,a as i,u as r,e as d,f as v,t as f,p as _,g as p,B as x,s as y,n as m}from"./index-Djw2HllX.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const g=w(e({__name:"answer",setup(e){const w=a(null),g=a(""),b=a(""),h=a(!1),k=a(!1);l((()=>{var e;const a=null==(e=o())?void 0:e.proxy,l=null==a?void 0:a.getOpenerEventChannel();l&&l.on?l.on("setQuestion",(e=>{w.value={content:e.question,difficulty:e.difficulty,category:e.category},k.value=e.isFollowUp||!1,q("text")})):s({url:"/pages/index/index"})}));const q=e=>{g.value=e},C=async()=>{w.value&&b.value.trim()?m({url:"/pages/question-bank/evaluation",success:e=>{var a;e.eventChannel.emit("evaluateAnswer",{question:null==(a=w.value)?void 0:a.content,answer:b.value})}}):y({title:"请输入答案",icon:"none"})},j=()=>{h.value=!0},V=()=>{h.value=!1};return(e,a)=>{const l=d,s=u,o=p,y=x;return c(),t(s,{class:"content"},{default:n((()=>[i(s,{class:"quiz-section"},{default:n((()=>[i(s,{class:"question-card"},{default:n((()=>[i(l,{class:"question-text"},{default:n((()=>{var e;return[v(f(null==(e=w.value)?void 0:e.content),1)]})),_:1}),k.value?r("",!0):(c(),t(s,{key:0,class:"question-info"},{default:n((()=>{var e;return[i(l,{class:_(["difficulty",null==(e=w.value)?void 0:e.difficulty])},{default:n((()=>{var e;return[v(f(null==(e=w.value)?void 0:e.difficulty),1)]})),_:1},8,["class"]),i(l,{class:"category"},{default:n((()=>{var e;return[v(f(null==(e=w.value)?void 0:e.category),1)]})),_:1})]})),_:1}))])),_:1}),i(s,{class:"answer-options"},{default:n((()=>[i(o,{class:"answer-btn text",onClick:a[0]||(a[0]=e=>q("text"))},{default:n((()=>[i(l,{class:"btn-text"},{default:n((()=>[v("文字回答")])),_:1})])),_:1}),i(o,{class:"answer-btn voice",disabled:"",onClick:a[1]||(a[1]=e=>q("voice"))},{default:n((()=>[i(l,{class:"btn-text"},{default:n((()=>[v("语音回答")])),_:1})])),_:1})])),_:1}),"text"===g.value?(c(),t(s,{key:0,class:"answer-container"},{default:n((()=>[i(s,{class:"answer-section"},{default:n((()=>[i(y,{class:"answer-input",modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value=e),placeholder:"请输入你的答案...",maxlength:-1},null,8,["modelValue"])])),_:1}),i(s,{class:"submit-container"},{default:n((()=>[i(o,{class:"submit-btn",onClick:C},{default:n((()=>[v("提交答案")])),_:1})])),_:1})])),_:1})):"voice"===g.value?(c(),t(s,{key:1,class:"answer-section"},{default:n((()=>[i(o,{class:_(["record-btn",{recording:h.value}]),onTouchstart:j,onTouchend:V},{default:n((()=>[v(f(h.value?"松开结束录音":"按住开始录音"),1)])),_:1},8,["class"])])),_:1})):r("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-44ea7947"]]);export{g as default};
