import{d as e,r as a,z as l,A as t,c as s,w as n,i as u,B as o,o as c,a as i,u as r,e as d,f as v,t as f,p as _,g as p,C as y,s as x,n as g}from"./index-jHeBbZOn.js";import{_ as m}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=m(e({__name:"answer",setup(e){const m=a(null),w=a(""),b=a(""),h=a(!1),k=a(!1);l((()=>{var e;const a=null==(e=o())?void 0:e.proxy,l=null==a?void 0:a.getOpenerEventChannel();l&&l.on?l.on("setQuestion",(e=>{m.value={content:e.question,difficulty:e.difficulty,category:e.category},k.value=e.isFollowUp||!1,q("text")})):t({url:"/pages/index/index"})}));const q=e=>{w.value=e},C=async()=>{m.value&&b.value.trim()?g({url:"/pages/question-bank/evaluation",success:e=>{var a,l,t;e.eventChannel.emit("evaluateAnswer",{question:null==(a=m.value)?void 0:a.content,answer:b.value,difficulty:null==(l=m.value)?void 0:l.difficulty,category:null==(t=m.value)?void 0:t.category,isFollowUp:k.value})}}):x({title:"请输入答案",icon:"none"})},U=()=>{h.value=!0},V=()=>{h.value=!1};return(e,a)=>{const l=d,t=u,o=p,x=y;return c(),s(t,{class:"content"},{default:n((()=>[i(t,{class:"quiz-section"},{default:n((()=>[i(t,{class:"question-card"},{default:n((()=>[i(l,{class:"question-text"},{default:n((()=>{var e;return[v(f(null==(e=m.value)?void 0:e.content),1)]})),_:1}),k.value?r("",!0):(c(),s(t,{key:0,class:"question-info"},{default:n((()=>{var e;return[i(l,{class:_(["difficulty",null==(e=m.value)?void 0:e.difficulty])},{default:n((()=>{var e;return[v(f(null==(e=m.value)?void 0:e.difficulty),1)]})),_:1},8,["class"]),i(l,{class:"category"},{default:n((()=>{var e;return[v(f(null==(e=m.value)?void 0:e.category),1)]})),_:1})]})),_:1}))])),_:1}),i(t,{class:"answer-options"},{default:n((()=>[i(o,{class:"answer-btn text",onClick:a[0]||(a[0]=e=>q("text"))},{default:n((()=>[i(l,{class:"btn-text"},{default:n((()=>[v("文字回答")])),_:1})])),_:1}),i(o,{class:"answer-btn voice",onClick:a[1]||(a[1]=e=>q("voice"))},{default:n((()=>[i(l,{class:"btn-text"},{default:n((()=>[v("语音回答")])),_:1})])),_:1})])),_:1}),"text"===w.value?(c(),s(t,{key:0,class:"answer-container"},{default:n((()=>[i(t,{class:"answer-section"},{default:n((()=>[i(x,{class:"answer-input",modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=e=>b.value=e),placeholder:"请输入你的答案...",maxlength:-1},null,8,["modelValue"])])),_:1}),i(t,{class:"submit-container"},{default:n((()=>[i(o,{class:"submit-btn",onClick:C},{default:n((()=>[v("提交答案")])),_:1})])),_:1})])),_:1})):"voice"===w.value?(c(),s(t,{key:1,class:"answer-section"},{default:n((()=>[i(o,{class:_(["record-btn",{recording:h.value}]),onTouchstart:U,onTouchend:V},{default:n((()=>[v(f(h.value?"松开结束录音":"按住开始录音"),1)])),_:1},8,["class"])])),_:1})):r("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-7fd96e08"]]);export{w as default};
